==2793== Memcheck, a memory error detector
==2793== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2793== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==2793== Command: ./ymirdb
==2793== 
==2793== error calling PR_SET_PTRACER, vgdb might block
==2793== Invalid read of size 1
==2793==    at 0x483EF46: strlen (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x48CCD44: __vfprintf_internal (vfprintf-internal.c:1688)
==2793==    by 0x48B5D6E: printf (printf.c:33)
==2793==    by 0x109799: command_list_entries (ymirdb.c:85)
==2793==    by 0x10C8FB: main (ymirdb.c:763)
==2793==  Address 0x4a49a60 is 0 bytes inside a block of size 144 free'd
==2793==    at 0x483DFAF: realloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x10A08B: command_set (ymirdb.c:211)
==2793==    by 0x10CA33: main (ymirdb.c:778)
==2793==  Block was alloc'd at
==2793==    at 0x483DFAF: realloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x10A08B: command_set (ymirdb.c:211)
==2793==    by 0x10CA33: main (ymirdb.c:778)
==2793== 
==2793== Invalid read of size 1
==2793==    at 0x483EF54: strlen (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x48CCD44: __vfprintf_internal (vfprintf-internal.c:1688)
==2793==    by 0x48B5D6E: printf (printf.c:33)
==2793==    by 0x109799: command_list_entries (ymirdb.c:85)
==2793==    by 0x10C8FB: main (ymirdb.c:763)
==2793==  Address 0x4a49a61 is 1 bytes inside a block of size 144 free'd
==2793==    at 0x483DFAF: realloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x10A08B: command_set (ymirdb.c:211)
==2793==    by 0x10CA33: main (ymirdb.c:778)
==2793==  Block was alloc'd at
==2793==    at 0x483DFAF: realloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x10A08B: command_set (ymirdb.c:211)
==2793==    by 0x10CA33: main (ymirdb.c:778)
==2793== 
==2793== Invalid read of size 1
==2793==    at 0x48436E0: mempcpy (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x48E3661: _IO_new_file_xsputn (fileops.c:1236)
==2793==    by 0x48E3661: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1197)
==2793==    by 0x48CB12B: __vfprintf_internal (vfprintf-internal.c:1688)
==2793==    by 0x48B5D6E: printf (printf.c:33)
==2793==    by 0x109799: command_list_entries (ymirdb.c:85)
==2793==    by 0x10C8FB: main (ymirdb.c:763)
==2793==  Address 0x4a49a60 is 0 bytes inside a block of size 144 free'd
==2793==    at 0x483DFAF: realloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x10A08B: command_set (ymirdb.c:211)
==2793==    by 0x10CA33: main (ymirdb.c:778)
==2793==  Block was alloc'd at
==2793==    at 0x483DFAF: realloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==2793==    by 0x10A08B: command_set (ymirdb.c:211)
==2793==    by 0x10CA33: main (ymirdb.c:778)
==2793== 
> ok

> ok

> ok

> c [800 12 33]
b [12 a 55]
a [123 33 44]

> ok

> b [12 a 55]
a [123 33 44]

> b
a

> no such key

> not permitted

> b [12 a 55]
a [123 33 44]

> b
a

> [123 33 44]

> bye
==2793== 
==2793== HEAP SUMMARY:
==2793==     in use at exit: 0 bytes in 0 blocks
==2793==   total heap usage: 59 allocs, 59 frees, 2,600 bytes allocated
==2793== 
==2793== All heap blocks were freed -- no leaks are possible
==2793== 
==2793== For lists of detected and suppressed errors, rerun with: -s
==2793== ERROR SUMMARY: 9 errors from 3 contexts (suppressed: 0 from 0)
